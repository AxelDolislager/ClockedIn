<html>
    <% include ../partials/header %>
    <body>
        <% include ../partials/navigation %>
        <header class="toolbar">
            <div class="backBtn"><a href="/projects/<%= projectId %>"><i class="fa fa-chevron-left "></i></a></div>
        </header>
        <main>
            <form id="edit-task_form" action="/projects/<%= projectId %>/tasks/<%= task._id %>?_method=PUT" method="POST">
                <div class="container">
                    <h2>Editing <%= task.description %></h2>
                    <small>A task....</small>
                    
                    <label for="task-desc"></label>
                    <input type="text" placeholder="Description (optional)" value="<%= task.description %>" id="task-desc" name="edit_task_desc">
                    
                    <!-- Format dates to YYYY/MM/DD HH:mm:ss -->
                    <label for="starttime">Time started: </label>
                    <input type="text" id="starttime" name="edit_task_start_time" value="<%= taskStartTime %>" required>
                    
                    <label for="endtime">Time ended: </label>
                    <input type="text" id="endtime" name="edit_task_end_time" value="<%= taskEndTime %>" required>
                    
                    <input type="submit" value="Edit task">
                </div>
            </form>
            <form  id="remove-task_form" method="POST" action="/projects/<%= projectId %>/tasks/<%= task._id %>?_method=DELETE">
                <div class="container">
                    <input type="submit" value="Remove task" class="removeBtn">
                </div>
            </form>
        </main>
        <% include ../partials/footer %>
        <script src="/js/picker.min.js"></script>
        <script>
            var input1 = document.getElementById('starttime');
            var picker1 = new Picker(input1, {
              format: 'YYYY/MM/DD HH:mm:ss',
              translate(type, text){
                  const suffixes = {
                      year: ' Y',
                      month: ' M',
                      day: ' D',
                      hour: ' H',
                      minute: ' m',
                      second: ' S'
                  };
                  return Number(text) + suffixes[type];
              }
            });
            var input2 = document.getElementById('endtime');
            var picker2 = new Picker(input2, {
              format: 'YYYY/MM/DD HH:mm:ss',
              translate(type, text){
                  const suffixes = {
                      year: ' Y',
                      month: ' M',
                      day: ' D',
                      hour: ' H',
                      minute: ' m',
                      second: ' S'
                  };
                  return Number(text) + suffixes[type];
              }
            });
        </script>
    </body>
</html>